{% extends 'base.html' %}
{% load static %}

{% block title %}Books{% endblock %}

{% block content %}

<h1 class="text-center p-5">Books</h1>
<div class="d-flex flex-column flex-lg-row align-items-center gap-1">
    <!-- search recipes form -->
    <form class="search__container ps-4 pe-4 d-flex flex-column flex-sm-row align-items-center gap-2" role="search" action="{% url 'books' %}" method="GET">
        <div class="d-flex flex-column flex-sm-row align-items-center gap-2">
            <label for="search-input">Search</label>
            <input class="search__input" type="Search" id="search-input" name="q" aria-label="Type author or title to search a book" placeholder="Books by Title or Author">

        </div>
        <button class="btn book__button hero__button--primary" type="submit" aria-label="Search">
            Search
        </button>
    </form>
    <div class="search__container ps-4 pe-4 ms-2 d-flex flex-column flex-lg-row align-items-center gap-lg-2">
        <p class="m-0 p-0 text-center">Filters</p>
        <div class="filter__buttons">
            <button class="btn book__button hero__button--primary" id="btnAll" aria-label="Filter all books">
                All
            </button>
            <button class="btn book__button hero__button--primary" id="btnCreator"  aria-label="Filer books by creator">
                Created
            </button>
            <button class="btn book__button hero__button--primary" id="btnContributor" aria-label="Filter books by my contribution">
                Contributed
            </button>
        </div>
    </div>
    
</div>

<div class="books-container">
    {% for book in books %}
    {% if request.user.is_authenticated %}
        {% include 'includes/books_list.html' %}
    {% else %}
        {% if forloop.counter < 5 %}
            {% include 'includes/books_list.html' %}
        {% endif %}
    {% endif %}
    {% endfor %}
</div>
{% if not request.user.is_authenticated %}
<div class="d-flex flex-column flex-sm-row gap-sm-2 just-content-md-left pb-4">
    <a class= "btn hero__button account__button hero__button--primary" href="{% url 'account_signup' %}"> See More</a>
</div>
{% endif %}

{% endblock %}
